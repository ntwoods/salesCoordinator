/* ---- Base Theme ---- */
:root {
  --bg: #f6f9ff;
  --card: #fff;
  --text: #0f172a;
  --muted: #6b7280;
  --brand: #2563eb;
  --brand-700: #1d4ed8;
  --accent: #eaf1ff;
  --shadow: 0 16px 40px rgba(2,40,120,.12);
  --radius: 18px;
}

* { box-sizing: border-box; margin:0; padding:0; }
html, body {
  height: 100%;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background: radial-gradient(1200px 600px at 20% -10%, #eef5ff, #ffffff 40%), linear-gradient(180deg,#ffffff 0%, #eef5ff 100%);
  display:flex; flex-direction:column;
}

/* ---- Global utility ---- */
.hidden { display:none !important; }
.muted { color:var(--muted); }
.small { font-size:12px; }
.error { color:#b91c1c; margin-top:10px; }

/* ---- Centered login ---- */
.center {
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  min-height:100vh;
}
.login-card {
  background:var(--card);
  box-shadow:var(--shadow);
  border-radius:var(--radius);
  padding:40px 36px;
  width:100%;
  max-width:420px;
  text-align:center;
}
.login-card h1{ margin-bottom:6px; }

/* ---- Topbar ---- */
.topbar {
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 24px;
  background:#fff;
  box-shadow:var(--shadow);
  position:sticky; top:0; z-index:50;
}
.brand { display:flex; align-items:center; gap:12px; }
.logo {
  width:42px; height:42px; border-radius:12px;
  background:linear-gradient(135deg,#3b82f6,#1d4ed8);
  color:#fff; display:flex; align-items:center; justify-content:center;
  font-weight:700; letter-spacing:.5px;
}
.titles h2{ margin:0; }
.stats{ display:flex; align-items:center; gap:16px; flex-wrap:wrap; }
.profile{ display:flex; align-items:center; gap:10px; }
.profile img{ width:32px; height:32px; border-radius:50%; object-fit:cover; }
.link{ background:none; border:none; color:var(--brand); cursor:pointer; }

/* ---- Content ---- */
.content {
  flex:1;
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  padding:24px;
  width:100%;
  max-width:1200px;
  margin:0 auto;
}
.grid {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
  gap:18px;
  align-items:start;
  justify-items:stretch;
}

/* ---- Card ---- */
.card-sm {
  background:#fff;
  border-radius:22px;
  box-shadow:var(--shadow);
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:12px;
  transition:transform .1s ease;
  position: relative; /* badge anchor */
}
.card-sm:hover{ transform:translateY(-3px); }
.client{ font-weight:700; }
.calls{ display:flex; flex-wrap:wrap; gap:8px; }
.btn{
  border:none; border-radius:12px;
  padding:10px 14px; font-weight:600;
  cursor:pointer; transition: transform .06s ease;
}
.btn:active{ transform: translateY(1px); }
.btn.primary{ background:var(--brand); color:#fff; }
.btn.primary:hover{ background:var(--brand-700); }
.btn.light{ background:#eef2ff; color:#1d4ed8; }
.btn.light:hover{ background:#dbeafe; }
.btn.disabled, .btn:disabled{ opacity:.45; cursor:not-allowed; filter:grayscale(.3); }

/* ---- Empty ---- */
.empty {
  color:var(--muted);
  text-align:center;
  padding:60px 20px;
}

/* ---- Modal ---- */
.modal {
  position:fixed; inset:0;
  background:rgba(15,23,42,.25);
  display:flex; align-items:center; justify-content:center;
}
.modal-content {
  width:100%; max-width:640px;
  background:#fff;
  border-radius:20px;
  box-shadow:var(--shadow);
  padding:22px;
  display:flex;
  flex-direction:column;
  gap:14px;
  max-height:95vh;
  overflow:auto;
}

/* ---- Form controls ---- */
.form label{ font-size:12px; color:var(--muted); }
.form select,
.form textarea,
.form input[type="datetime-local"],
.form input[type="file"]{
  width:100%;
  border:1px solid #dde3f7;
  border-radius:10px;
  padding:10px;
  font:inherit;
  resize:vertical;
}
.actions{ display:flex; justify-content:flex-end; gap:8px; }

/* ---- Toast ---- */
.toast {
  position:fixed;
  bottom:24px; left:50%;
  transform:translateX(-50%);
  background:#111827; color:#fff;
  padding:10px 14px;
  border-radius:999px;
  box-shadow:var(--shadow);
  z-index:9999;
}

/* ---- Loader ---- */
.app-loader {
  position:fixed; inset:0;
  background:rgba(255,255,255,.6);
  backdrop-filter:blur(4px);
  display:flex; align-items:center; justify-content:center;
  flex-direction:column; gap:8px; z-index:1000;
}
.spinner {
  width:42px; height:42px; border-radius:50%;
  border:4px solid #c7ddff; border-top-color:#1d4ed8;
  animation:spin .9s linear infinite;
}
@keyframes spin{ to{transform:rotate(360deg);} }
.loader-text{ color:#1d4ed8; font-weight:600; }

/* ---- Countdown ---- */
.countdown {
  position: absolute;
  right: 12px;
  top: 12px;
  background: #fff7ed;
  color: #9a3412;
  border: 1px solid #fed7aa;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
  z-index: 2; /* ensure above card content if needed */
}
.countdown.overdue {
  background:#fee2e2; color:#991b1b; border-color:#fecaca;
}

/* ---- Iframe Host ---- */
.iframe-host {
  width:100%;
  height:68vh;
  border:1px solid #e5e7eb;
  border-radius:12px;
  overflow:hidden;
  background:#fff;
}
.iframe-host>iframe {
  width:100%; height:100%;
  border:0;
  transform-origin:top center;
}

/* ---- Responsive Center Fix ---- */
@media (max-width:800px) {
  .login-card{padding:28px 22px;}
  .content{padding:16px;}
}

/* ===== Client Color Badge / Tag ===== */
/* Element-based badge (optional): <span class="client-badge is-red">Red</span> */
.client-badge{
  position:absolute;
  right: 10px;
  bottom: 10px;   /* ⬅️ was top:10px; */
  top: auto;
  z-index: 1;  
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:12px;
  font-weight:700;
  letter-spacing:.2px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid transparent;
  background:#eef2ff;
  color:#1f2937;
  user-select:none;
}
.client-badge::before{
  content:"";
  width:8px; height:8px; border-radius:50%;
  background:#9ca3af;
  display:inline-block;
}
.client-badge.is-red{    background:#fff1f2; color:#9f1239; border-color:#fecdd3; }
.client-badge.is-red::before{    background:#ef4444; }
.client-badge.is-yellow{ background:#fffbeb; color:#92400e; border-color:#fde68a; }
.client-badge.is-yellow::before{ background:#f59e0b; }
.client-badge.is-green{  background:#ecfdf5; color:#065f46; border-color:#a7f3d0; }
.client-badge.is-green::before{  background:#10b981; }

/* Attribute-based badge (recommended)
   <div class="card-sm" data-client-color="Red|Yellow|Green">…</div> */
.card-sm[data-client-color]::after{
  content: attr(data-client-color);
  position: absolute;
  right: 10px;
  bottom: 10px;     /* ⬅️ was top:10px; replace with bottom */
  top: auto;        /* reset top */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 64px;
  height: 26px;
  padding: 0 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: .2px;
  border: 1px solid transparent;
  background: #eef2ff; 
  color: #1f2937;
  z-index: 1;       /* below countdown */
}
.card-sm[data-client-color="Red"]::after    { background:#fff1f2; color:#9f1239; border-color:#fecdd3; padding-bottom: 48px; }
.card-sm[data-client-color="Yellow"]::after { background:#fffbeb; color:#92400e; border-color:#fde68a; padding-bottom: 48px; }
.card-sm[data-client-color="Green"]::after  { background:#ecfdf5; color:#065f46; border-color:#a7f3d0; padding-bottom: 48px; }
